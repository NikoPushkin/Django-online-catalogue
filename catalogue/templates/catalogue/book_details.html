{% extends 'catalogue/base_catalogue.html' %}

{% block title %}
  {{ book.title }} - {{ block.super }}
{% endblock %}

{% block content %}

  <div class="detail-content">

    <div class="details-card1">
      <img class="overlay-image" src="{{ book.book_cover.url }}" alt="fuck">
      <div class="overlay">
        <div id="text" class="overlay-text">
          <p>{{ book.description }}</p>
        </div>
      </div>
    </div>


    <div class="details-card2">
      <img class="overlay-image" src="{{ book.theme_photo.url }}" alt="fuck"">
      <div class="overlay">
        <div id="text" class="overlay-text">
          <p>{{ book.theme_info }}</p>
        </div>
      </div>
    </div>


    <div class="details-card3">
      <img class="overlay-image" src="{{ book.artist.url }}" alt="fuck"">
      <div class="overlay">
      <div id="myDropdown3" class="overlay-text">
        <p>{{ book.artist_info }}</p>
      </div>
      </div>
    </div>


    <div class="main-photo">
      <button class="accordion">Detailed photo</button>
      <div class="panel">
        <img src="{{ book.main_photo.url }}" alt="fuck"">
        <div class="main-description">
          <h1>{{ book.title }}</h1>
          <p>{{ book.description }}</p>
        </div>
      </div>
    </div>

    <script>

    // function myFunction(a) {
    //   a.parentNode.getElementsByClassName("dropdown-content")[0].classList.toggle("show");
    // }
    //
    // // Close the dropdown if the user clicks outside of it
    // window.onclick = function(event) {
    //   if (!event.target.matches('.dropbtn')) {
    //     var dropdowns = document.getElementsByClassName("dropdown-content");
    //     var i;
    //     for (i = 0; i < dropdowns.length; i++) {
    //       var openDropdown = dropdowns[i];
    //       if (openDropdown.classList.contains('show')) {
    //         openDropdown.classList.remove('show');
    //       }
    //     }
    //   }
    // }

    var acc = document.getElementsByClassName("accordion");
    var i;

    for (i = 0; i < acc.length; i++) {
      acc[i].addEventListener("click", function() {
        /* Toggle between adding and removing the "active" class,
        to highlight the button that controls the panel */
        this.classList.toggle("active");

        /* Toggle between hiding and showing the active panel */
        var panel = this.nextElementSibling;
        if (panel.style.display === "block") {
          panel.style.display = "none";
        } else {
          panel.style.display = "block";
        }
      });
    }
    </script>


{% endblock %}
